@model IEnumerable<SpeakOutWeb.Models.Vocabulary>

@{
    ViewBag.Title = "Index";
}
<link href="~/Library/css/dictionaryStyle.css" rel="stylesheet" />
<article id="webslides" class="vertical">
    <section class="bg-white">
        <span class="background bg1" style="background-image:url('/Library/images/background1.jpg')"></span>
        <table class="table">
            <tr>
                <th>
                    Your vocabularies
                </th>
                <th>
                    Your bookmarks
                </th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>

                        <h2>@Html.DisplayFor(modelItem => item.EngWord)</h2>
                        <button id="speakButton" class="btn speakButton" data-speak="@item.EngWord">
                            <img src="~/Content/500px-Speaker_Icon.svg.png" />
                        </button><br />
                        <h5>@Html.DisplayFor(modelItem => item.Spelling)</h5><br />
                        <h4>@Html.DisplayFor(modelItem => item.VnWord)</h4>
                    </td>
                    <td>
                        @if (item.Bookmark == false)
                        {
                            <button type="submit" class="btn btn-primary" id="bookmarkedButton" data-id="@item.Id">Bookmark</button>
                        }
                     
                    </td>
                    
                </tr>
            }
        </table>
    </section>
</article>
@section Script1{
    <script>
        $('#bookmarkedButton').on('click', function () {
            $.ajax({
            type: 'POST',
            url: '@Url.Action("../Vocabularies/UpdateBookmark")',
            contentType: "application/json; charset=utf-8",
            data: '{ "Id": "' + $(this).attr("data-id") + '" }',
                success: function (result, status, xhr) {
                    window.location.reload();
            },
            error: function (xhr, status, error) {
                alert('Result: ' + status + ' ' + error + ' ' + xhr.status + ' ' + xhr.statusText)
            }
        });
        });
        $('.speakButton').on('click', function () {
            var synth = window.speechSynthesis;
            var utterThis = new SpeechSynthesisUtterance($(this).attr("data-speak"));
            synth.speak(utterThis);
        });
    </script>

}